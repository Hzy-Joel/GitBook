### MMKV 源码解析

原理：使用mmap映射cpu缓存空间到进程空间，对进程空间操作相当于直接操作内核缓存，则进程读写磁盘只需要经过cpu缓存读写磁盘的过程，一次读写，相比较文件读写方式，文件读写需要在进程空间开辟一个缓存复制缓存，将数据整块复制到进程空间中操作，读写都需要经过进程空间->cpu缓存->磁盘两次操作，而且多个进程会多次复制，产生浪费。



源码知识点：

1、重写JNI_OnLoad方法获得JavaVM再调用其GetEnv方法获取jni环境env，调用其RegisterNatives可以重定向java中的函数和jni调用函数的关系。



